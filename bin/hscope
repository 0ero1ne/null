#!/usr/local/bin/python3
# horoscope
# 0.9
# parse the horoscope from freewillastrology.com

import requests
import sys

from bs4 import BeautifulSoup

list = ['aries','taurus','gemini','cancer','leo','virgo','libra','scorpio','sagittarius','capricorn','aquarius','pisces']

if len(sys.argv) > 1 and sys.argv[1].lower() in list:
    horoscope = sys.argv[1].lower()
    
    try:
        r = requests.get('https://freewillastrology.com/horoscopes/' + horoscope)
        soup = BeautifulSoup(r.text, 'lxml')

        html = str(soup).split("\n")
        sign = html[93][4:-6].split("</h1>")[0]
        date = html[93][4:-6].split("</h1>")[1]
        text = html[95][14:]

        print("\n" + sign + " -" + date)
        print("\n" + text)
    except:
        print("Site not reachable.")
else:
    print("Give me a sign")
    exit(1)

